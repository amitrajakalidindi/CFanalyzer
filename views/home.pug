doctype html
html 
    head
        meta(charset='utf-8')
        meta(name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no')
        meta(http-equiv='x-ua-compatible' content='ie=edge')

        link(rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css')
        script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js')
        script(src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js')
        script(src='https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js')
        script(src='https://kit.fontawesome.com/a076d05399.js')
        script(src='https://cdn.jsdelivr.net/npm/chart.js@2.8.0')
        title='CFanalyzer'
    body(style="font-family: 'Inter var',sans-serif")
        nav(class='navbar navbar-expand-lg fixed-top d-flex justify-content-between' style='background-color: #F5F5F5')
            div
                a(class='navbar-brand text-dark' href='#')
                    h3='CFanalyzer'
            div
                button(class='navbar-toggler' type='button' data-toggle='collapse' data-target='#collapsibleNavbar')
                    span(class='navbar-toggler-icon')
                div(class='collapse navbar-collapse' id='collapsibleNavbar')
                    ul(class='navbar-nav')
                        if(username)
                            li(class='nav-item dropdown')
                                h5
                                    a(class='nav-link dropdown-toggle text-dark' href=`/user/${username}` id='navbardrop' data-toggle='dropdown')=username
                                    div(class='dropdown-menu dropdown-menu-right')
                                        a(class='dropdown-item' href='/signout')='Sign out'
                        else
                            li(class='nav-item')
                                a(href='/signin' style='font-size:22px; color:black; text-decoration:none')='Sign in'
        div(class='container' style='margin-top:100px')
            canvas(id='myChart' style='height:200px ; width:50%')
            script.
                var ctx = document.getElementById('myChart').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: ['Accepted', 'Compilation Error', 'Runtime Error', 'Wrong Answer', 'Time Limit Exceeded', 'Memory Limit Exceeded'],
                        datasets: [{
                            label: '# of Votes',
                            data: [12, 19, 3, 5, 2, 3],
                            backgroundColor: [
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(75, 192, 192, 0.2)',
                                'rgba(54, 162, 235, 0.2)',
                                'rgba(255, 206, 86, 0.2)',
                                'rgba(255, 99, 132, 0.2)',
                                'rgba(153, 102, 255, 0.2)',
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero: true
                                }
                            }]
                        }
                    }
                });
                function changeData(chart) {
                    chart.data.datasets[0].data = Array(#{accepted});
                    console.log(#{accepted});
                    chart.update();
                }

                changeData(myChart);
                    